---
// Modal.astro
---

<div>
  <dialog id="modal" class="p-0 rounded-lg shadow-xl">
    <div
      class="px-10 py-8 rounded-lg w-full max-w-md bg-maggiore-white text-maggiore-verde-800 relative">
      <div>
        <h2 class="font-bold mb-4 text-xl">Deixe seus dados</h2>
        <h3 class="mb-4">Entraremos em contato com vocÃª.</h3>
      </div>
      <form id="modalForm" method="dialog" class="space-y-4">
        <div>
          <label for="name" class="block mb-1">Nome:</label>
          <input
            type="text"
            id="name"
            name="name"
            required
            class="w-full px-3 py-2 border rounded-md"
          />
        </div>
        <div>
          <label for='phone"' class="block mb-1">Email:</label>
          <input
            type="email"
            id="email"
            name="email"
            required
            class="w-full px-3 py-2 border rounded-md"
          />
        </div>
        <div>
          <label for='phone"' class="block mb-1">Telefone:</label>
          <input
            type="tel"
            id='phone"'
            name='phone"'
            required
            class="w-full px-3 py-2 border rounded-md"
          />
        </div>
        <div class="flex justify-end space-x-2">
          <button
            type="button"
            id="closeModal"
            class="bg-transparent text-black font-bold rounded absolute right-4 top-4">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>

          <button
            type="submit"
            class="bg-maggiore-verde-700 hover:bg-maggiore-verde-500 transition-colors text-white font-bold py-2 px-4 rounded">
            Enviar
          </button>
        </div>
      </form>
    </div>
  </dialog>
</div>

<style>
  input {
    @apply bg-transparent border-b-2 border-0 border-maggiore-verde-800 active:border-maggiore-brown focus:border-maggiore-brown;
  }
  dialog::backdrop {
    background-image: linear-gradient(
      45deg,
      #aea181,
      #dbb662,
      #649d84,
      #2b443b
    );
    opacity: 0.75;
  }
</style>

<script>
  const modal = document.getElementById("modal");
  const openModalBtn = document.getElementById("openModal");
  const closeModalBtn = document.getElementById("closeModal");
  const form = document.getElementById("modalForm");

  openModalBtn.addEventListener("click", () => {
    modal?.showModal();
  });

  closeModalBtn.addEventListener("click", () => {
    modal?.close();
  });
</script>
